<!-- index.html -->

{% extends 'base.html' %}

{% block content %}
<script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>

<script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@v0.149.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@v0.149.0/examples/jsm/"
            }
    }
</script> 

<div class = "flex-container">
    <!-- Left side content (original content) -->
    <div class = "flex-child">
        <h1> Teach robot to move </h1>
        <h4>  Choose the STT model</h4>
        <select class="select-model" id="modelSelect">
            <option value="nativejs"> Native JS </option>
            <option value="whisper"> Whisper </option>
        </select>
        <h4> ðŸ‘‡ Click here and start speaking </h4>
        <div class="speech-container">
            <button id="start-recording">ðŸ’¬ Start listening</button>
            <button id="stop">ðŸ›‘ Stop listening</button>
        </div>

        <p id="status"></p>
        <a id="downloadLink" style="display: none;" download>downloadAudio</a>

        <form id="user-form">
            
            <br>
            <textarea id="draft" type="text" class="output"></textarea>
            <br>
            <button type="submit">Generate</button>
        </form>
    
            <div id="text-output">
            <!-- The generated output will be displayed here -->
        </div>
    </div>         

    <div class = "flex-child">
        <h1> Robot </h1>
        <!-- Further need to be replaced with robot model -->
        <img src="{{ url_for('static', filename='images/robot.png') }}" alt="robot" width="300" height="300">
        <script type="module" src="{{ url_for('static', filename='scripts/robot.js') }}"></script>
    </div>

</div>

<!--<script src="{{ url_for('static', filename='scripts/selectModel.js')}}"></script>-->
<script src="{{ url_for('static', filename='scripts/main.js')}}"></script>
<!--<script src="{{ url_for('static', filename='scripts/speechRecognition.js')}}"></script>-->
<!--<script src="{{ url_for('static', filename='scripts/mediaRecorder.js')}}"></script>-->
{% endblock %}